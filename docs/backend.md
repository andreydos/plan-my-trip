# Backend arquitecture

- [`database`](#database)
  - [`datamodel`](#datamodel)
  - [`prisma.yml`](#prisma-yml)
  - [`seed.graphql`](#seed-graphql)
- [`src`](#src)
  - [`directives`](#directives)
  - [`errors`](#errors)
  - [`generated`](#generated)
  - [`middleware`](#middleware)
  - [`resolvers`](#resolvers)
  - [`schema`](#appconfigjs)
  - [`utils`](#utils)
  - [`index.js`](#index-js)
- [`.graphqlconfig.yml`](#graphqlconfig-yml)

## `database`

### `datamodel`

Type definitions in GraphQL SDL for our database. These types are roughly translated as SQL tables by Prisma.

### `prisma.yml`

Prisma configuration file. Learn more about it [here](https://www.prisma.io/docs/reference/service-configuration/prisma.yml/overview-and-example-foatho8aip).

### `seed.graphql`

Initial values that will be loaded in our database by Prisma.

## `src`

### `directives`

GraphQL directive resolvers can be defined in this directory.

### `errors`

Custom error definitions can be placed here. They should all inherit the default error provided in order to keep consistency.

### `generated`

This folder will contain all the GraphQL generated schema. Specifically, our database schema generated by Prisma will be downloaded here.

### `middleware`

Express.js middleware is located here. Middleware runs right after a request is received and before GraphQL resolvers start. It is a good place to check authentication tokens.

### `resolvers`

Contains all the resolvers for queries, mutations and subscriptions.

### `schema`

Our **server's API definition** (not our database!) lives here in shape of GraphQL SDL. We separate every GraphQL entity in a different file: types, directives, inputs, scalars, etc. The `index.graphql` will contain the queries and mutations.

### `utils`

Several utility functions.

### `index.js`

Main entry point of our server. This spawns a new `graphq-yoga` server, connects Express.js middleware and creates a Prisma bindings for our database.

## `.graphqlconfig.yml`

Configuration for our GraphQL development environment. More info [here](https://github.com/prismagraphql/graphql-config).
